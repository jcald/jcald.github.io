<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Demo annyang</title>
    <style>
      .box {
        position: relative;
      }
      
      .btnClear {
        background-color: darkorange;
        position: absolute;
        bottom: 0;
        right: 0;
      }

      .ta {
        background-color: deepskyblue;
        color: brown;
      }
    </style>
  </head>
  <body>
    <h1>Demo annyang</h1>
    <a href="debug01">Debug 01</a><br />
    <a href="debug02">Debug 02</a><br />
    <a href="speechKitt.html">Speech Kit OK</a>
    <h2>Debuging annayasg</h2>
    <div id="debug">
      <li id="n1"></li>
      <li id="n2"></li>
      <li id="n3"></li>
      <li id="n4"></li>
      <li id="n5"></li>
    </div>

    <div class="box">
      <!-- stuff -->
      <!-- <p class="bet_time">Bet 5 days ago</p> -->
      <button type="button" class="btnAlert" onclick="alert('En clear!')">Alert</button>
      <button type="button" class="btnClear" onclick="limpia()">Clear</button>
    </div>

    <script src="//cdnjs.cloudflare.com/ajax/libs/annyang/2.6.1/annyang.min.js"></script>
    <script>
      function limpia() {
        console.log('clear');
        document.getElementById("debug").innerHTML = "Resultado:<br/>";
      }
      dd = document.getElementById("debug");
      if (annyang) {
        // Let's define a command.
        var commands = {
          hi: function () {
            alert("Hello world!");
          },
          bye: function () {
            alert("Bye!");
          },
        };

        // Add our commands to annyang
        annyang.addCommands(commands);
        annyang.setLanguage("es-PE");

        annyang.addCallback("result", function (phrases) {
          for (const key in phrases) {
            if (phrases.hasOwnProperty(key)) {
              const element = phrases[key];
              dd.innerHTML += "<li>" + element + "<li/>";
            }
          }

          dd.innerHTML += "<textarea class='ta'>" + phrases + "</textarea>"+"<br>";
          // console.log("I think the user said: ", phrases[0]);
          // console.log(
          // "But then again, it could be any of the following: ",
          // phrases
          // );
        });

        // Start listening.
        annyang.start();
      }
    </script>
  </body>
</html>
